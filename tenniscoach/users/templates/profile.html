{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %} Profilo {% endblock %}

{% block content %}
<div id="toast-container">
         {% if messages %}
         {% for message in messages %}
         <div class="toast align-items-center text-bg-{{ message.tags|default:'info' }} border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
               <div class="toast-body">
                  {{ message }}
               </div>
               <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
         </div>
         {% endfor %}
         {% endif %}
    </div>
<br>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">Username: {{ object.user.username }}</h5>
                    <!-- Immagine del corso -->
                    <img src="/media{{ object.picture.url }}" alt="Immagine del profilo" class="img-fluid rounded" style="max-width: 120px;">
                </div>
                <div class="card-body">
                    <!-- Dettagli del corso -->
                    <ul class="list-group list-group-flush body-lesson">
                        <li class="list-group-item"><strong>Nome:</strong> {% if object.name %}{{ object.name }}{% endif %}</li>
                        <li class="list-group-item"><strong>Cognome:</strong> {% if object.surname %}{{ object.surname }}{% endif %}</li>
                        <li class="list-group-item"><strong>Descrizione:</strong> {% if object.description %}{{ object.description }}{% endif %}</li>
                        <li class="list-group-item"><strong>Email:</strong> {% if object.email %}{{ object.email }}{% endif %}</li>
                    </ul>
                </div>
                <div class="card-body">
                    <!-- Pulsante Modifica -->
                    {%if user.pk == object.pk %}
                        <a class="btn btn-sm btn-outline-secondary" href="{% url 'users:modifica_profilo' %}">
                            Modifica
                        </a>
                    {%endif%}
                </div>
            </div>
        </div>
    </div>
</div>
<script>
     document.addEventListener('DOMContentLoaded', function() {
         var toastElList = [].slice.call(document.querySelectorAll('.toast'));
         var toastList = toastElList.map(function(toastEl) {
             return new bootstrap.Toast(toastEl, { autohide: true, delay: 4000 });
         });
         toastList.forEach(toast => toast.show());
     });
</script>

{% endblock %}


